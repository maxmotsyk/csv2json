# üì¶ csv2json

`csv2json` ‚Äî –Ω–µ–≤–µ–ª–∏–∫–∏–π CLI-—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞ Go –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó CSV-—Ñ–∞–π–ª—ñ–≤ —É JSON.  
---

## ‚ú® –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
- –ß–∏—Ç–∞–Ω–Ω—è CSV-—Ñ–∞–π–ª—ñ–≤ —ñ–∑ –±—É–¥—å-—è–∫–∏–º —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫–æ–º.
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è —É JSON-–º–∞—Å–∏–≤ –æ–±‚Äô—î–∫—Ç—ñ–≤ (`map[string]string`).
- –í–∏–±—ñ—Ä —à–ª—è—Ö—É –¥–ª—è –≤—Ö—ñ–¥–Ω–æ–≥–æ —Ç–∞ –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª—ñ–≤ —á–µ—Ä–µ–∑ CLI-–ø—Ä–∞–ø–æ—Ä—Ü—ñ.
- –õ–æ–≥—É–≤–∞–Ω–Ω—è (—á–µ—Ä–µ–∑ `slog`) —É **stdout** —ñ —Ñ–∞–π–ª (`slog.json`).
- –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏:
  - —é–Ω—ñ—Ç-—Ç–µ—Å—Ç–∏ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó,
  - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ (end-to-end) –¥–ª—è –∑–∞–ø—É—Å–∫—É –≤—Å—å–æ–≥–æ CLI.

---

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫
```bash
go run ./cmd/csv2json -in testdata/input.csv -out output.json
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏
- `-in`  ‚Äî —à–ª—è—Ö –¥–æ CSV (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `input.csv`)
- `-out` ‚Äî —à–ª—è—Ö –¥–æ JSON (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `output.json`)

---

## üìÇ –ü—Ä–∏–∫–ª–∞–¥

### –í—Ö—ñ–¥ (`input.csv`)
```csv
name,age,city
Maks,27,Kyiv
Anna,25,Lviv
```

### –í–∏—Ö—ñ–¥ (`output.json`)
```json
[
  {
    "name": "Maks",
    "age": "27",
    "city": "Kyiv"
  },
  {
    "name": "Anna",
    "age": "25",
    "city": "Lviv"
  }
]
```

---

## üõ† –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
- **Go 1.22+**
- **`encoding/csv`** ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ CSV
- **`encoding/json`** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è JSON
- **`log/slog`** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- **`testing`** ‚Äî —é–Ω—ñ—Ç- —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏

---

## ‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Ç–µ—Å—Ç–∏:
```bash
go test ./... -v
```

–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏:
```bash
go test ./integration -v
```

–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ–∫—Ä–∏—Ç—Ç—è:
```bash
go test ./... -cover
```

---

## üìå –ü–ª–∞–Ω —Ä–æ–∑–≤–∏—Ç–∫—É
- [ ] –î–æ–¥–∞—Ç–∏ –ø—Ä–∞–ø–æ—Ä–µ—Ü—å `-sep` –¥–ª—è –≤–∏–±–æ—Ä—É —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫–∞ (`;`, `\t`, —ñ —Ç.–¥.).
- [ ] –û–ø—Ü—ñ—è `-pretty` –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è JSON –∑ –≤—ñ–¥—Å—Ç—É–ø–∞–º–∏.
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –ø–æ—Ç–æ–∫–æ–≤–æ—ó –æ–±—Ä–æ–±–∫–∏ –≤–µ–ª–∏–∫–∏—Ö CSV.
